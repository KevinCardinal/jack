<div class="div-center-container">
  <div class="cadre-border">
    <div fxLayout="row nowrap" fxLayoutGap="2rem">
      <div>
        <span class="ui-float-label">
          <p-dropdown [(ngModel)]="selectedJobId" [options]="jobs"
                      (onChange)="retrieveCrafts()" [style]="{'min-width': '250px'}"
                      id="job" name="job" required>
          </p-dropdown>
          <label for="job">Métier*</label>
        </span>
      </div>
      <div>
        <span class="ui-float-label">
          <p-dropdown [(ngModel)]="selectedCraftCategoryId" [options]="crafts"
                      [disabled]="selectedJobId == null" [style]="{'min-width': '250px'}"
                      id="craft" name="craft" required>
          </p-dropdown>
          <label for="job">Catégorie d'item*</label>
        </span>
      </div>

    </div>
    <div fxLayout="row nowrap" fxLayoutGap="2rem">
      <div>
        <span class="ui-float-label mt-4">
          <input pInputText pKeyFilter="pint" type="text" id="startXp" name="startXp"
                 [(ngModel)]="startXp"
                 [style]="{'min-width': '250px'}" min="0" max="398000" required
                 (change)="startXp = toNumber(startXp)">
          <label for="startXp">Expérience déjà acquise*</label>
        </span>
      </div>
      <div fxLayout="row nowrap" fxLayoutGap="15px">
        <p-button (onClick)="convertLevelToXp()"
                  [disabled]="startLevel == null"
                  label="< Convertir" class="mt-4" [style]="{'width': '110px', 'height': '100%'}">
        </p-button>
        <div>
          <span class="ui-float-label mt-4">
            <input pInputText pKeyFilter="pint" type="text" id="startLvl" name="startLvl"
                   [(ngModel)]="startLevel"
                   [style]="{'min-width': '125px', 'width': '125px'}"
                   pattern="[1-9]|[1-9][0-9]|1[0-9]{2}|200"
                   (change)="startLevel = toNumber(startLevel)">
            <label for="startLvl">Niveau actuel</label>
          </span>
        </div>
      </div>
    </div>

    <div fxLayout="row nowrap" fxLayoutGap="2rem">
      <div>
        <span class="ui-float-label mt-4">
          <input pInputText pKeyFilter="pint" type="text" id="craftLvl" name="craftLvl"
                 [(ngModel)]="craftLevel"
                 [style]="{'min-width': '250px'}" pattern="[1-9]|[1-9][0-9]|1[0-9]{2}|200" required
                 (change)="craftLevel = toNumber(craftLevel)">
          <label for="craftLvl">Niveau de l'item*</label>
        </span>
      </div>
      <div>
        <span class="ui-float-label mt-4">
          <input pInputText pKeyFilter="pint" type="text" id="endLevel" name="endLevel"
                 [(ngModel)]="endLevel"
                 [style]="{'min-width': '250px'}" pattern="[1-9]|[1-9][0-9]|1[0-9]{2}|200" required
                 (change)="endLevel = toNumber(endLevel)">
          <label for="endLevel">Niveau souhaité*</label>
        </span>
      </div>
    </div>

    <div fxLayout="row nowrap" fxLayoutAlign="center" class="mt-3">
      <p-button (onClick)="computeRemainingCrafts()"
                [disabled]="selectedCraftCategoryId == null || craftLevel == null || startXp == null || endLevel == null"
                label="Calculer">
      </p-button>
    </div>
    <div *ngIf="craftNumber != null" class="mt-3">
      Nombre de crafts restants : {{craftNumber}}
    </div>
  </div>
</div>
